(this["webpackJsonptsp-algorithms-explorer"]=this["webpackJsonptsp-algorithms-explorer"]||[]).push([[0],{30:function(t,e,a){},31:function(t,e,a){},40:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a.n(n),r=a(12),s=a.n(r),c=(a(30),a(9)),o=(a(31),a(32),a.p+"static/media/LogoFPUNA.13d083ff.jpeg"),l=a(42),h=a(43),u=a(22),d=a(44),j=a(46),b=a(47),v=a(45),x=function(t){return Array(t).fill().map((function(){return Array(2).fill(0)}))},f=function(t){return JSON.parse(JSON.stringify(t))},O=function(t,e){return Math.floor(Math.random()*(e-t))+t},p=function(t,e){return"".concat(t," -> ").concat(e)},g=a(15),m=a(16),y=function(){function t(e,a){Object(g.a)(this,t),this.x=e,this.y=a}return Object(m.a)(t,null,[{key:"orientacion",value:function(t,e,a){var n=(a.y-t.y)*(e.x-t.x)-(e.y-t.y)*(a.x-t.x);return n>0?1:0===n?0:-1}},{key:"contiene",value:function(t,e,a){return a.x<=Math.max(t.x,e.x)&&a.x>=Math.min(t.x,e.x)&&a.y<=Math.max(t.y,e.y)&&a.y>=Math.min(t.y,e.y)}},{key:"intersectan",value:function(t,e,a,n){var i=this.orientacion(t,a,n),r=this.orientacion(e,a,n),s=this.orientacion(t,e,a),c=this.orientacion(t,e,n);return i!==r&&s!==c||(!(0!==i||!this.contiene(a,n,t))||(!(0!==r||!this.contiene(a,n,e))||(!(0!==s||!this.contiene(t,e,a))||!(0!==c||!this.contiene(t,e,n)))))}}]),t}(),k=function(){function t(e,a){Object(g.a)(this,t);var n=e.length;console.assert(e.length===a.length,"Error: x.length != y.length");for(var i=Array(n),r=0;r<n;r++)i[r]=new y(e[r],a[r]);for(var s=Array(n),c=0;c<n;c++){s[c]=Array(n);for(var o=0;o<n;o++)s[c][o]=Math.sqrt(Math.pow(i[c].x-i[o].x,2)+Math.pow(i[c].y-i[o].y,2))}this.n=n,this.puntos=i,this.distancias=s}return Object(m.a)(t,[{key:"avaro",value:function(){var t=this.n,e=this.distancias;this.expandidos=0;var a=Array(t);a[0]=0,this.expandidos=this.expandidos+1;for(var n=Array(t-1),i=1;i<t;i++)n[i-1]=i;for(var r=1;r<t;r++){for(var s=0,c=1;c<n.length;c++)e[0][n[c]]<e[0][n[s]]&&(s=c);a[r]=n[s],this.expandidos=this.expandidos+1,n.splice(s,1)}this.ruta=a}},{key:"optimizar_n",value:function(t){for(var e=this.n,a=this.ruta,n=this.puntos,i=0;i<t;i++)for(var r=0;r<e-2;r++)for(var s=r+1,c=s+1;c<e;c++){var o=c+1;y.intersect(n[a[r]],n[a[s]],n[a[c]],n[a[o%e]])&&(a=a.slice(0,s).concat(a.slice(s,o).reverse()).concat(a.slice(o)))}this.ruta=a}},{key:"optimizar_profundo",value:function(){var t,e=this.n,a=this.ruta,n=this.puntos,i=this.distancias;do{t=!1;for(var r=0;r<e-2;r++)for(var s=r+1,c=s+1;c<e;c++){var o=c+1;if(y.intersectan(n[a[r]],n[a[s]],n[a[c]],n[a[o%e]])){var l=i[a[r]][a[s]]+i[a[c]][a[o%e]];i[a[r]][a[c]]+i[a[s]][a[o%e]]<l&&(a=a.slice(0,s).concat(a.slice(s,o).reverse()).concat(a.slice(o)),t=!0,this.expandidos=this.expandidos+1)}}}while(t);this.ruta=a}},{key:"backtracking",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.actual=Array(this.n),this.visitados=Array(this.n).fill(!1),this.longitud=1/0,this.expandidos=0,t?this.backtrack_primero(0,0):this.backtrack(0,0),delete this.actual,delete this.visitados,delete this.longitud}},{key:"backtrack",value:function(t,e){if(this.expandidos=this.expandidos+1,this.actual[e]=t,this.visitados[t]=!0,e+1===this.n){var a=this.evaluarRuta(this.actual);a<this.longitud&&(this.ruta=this.actual.slice(),this.longitud=a)}else for(var n=0;n<this.n;n++)this.visitados[n]||this.backtrack(n,e+1);this.visitados[t]=!1}},{key:"backtrack_primero",value:function(t,e){if(this.expandidos=this.expandidos+1,this.actual[e]=t,this.visitados[t]=!0,e+1===this.n){var a=this.evaluarRuta(this.actual);a<this.longitud&&(this.ruta=this.actual.slice(),this.longitud=a)}else for(var n=0;n<this.n;n++)this.visitados[n]||this.longitud!==1/0||this.backtrack_primero(n,e+1);this.visitados[t]=!1}},{key:"lasvegas",value:function(){this.actual=Array(this.n),this.visitados=Array(this.n).fill(!1),this.longitud=1/0,this.algolasvegas(Math.floor(Math.random()*this.n),0),delete this.actual,delete this.visitados,delete this.longitud}},{key:"algolasvegas",value:function(t,e){var a=Math.floor(Math.random()*this.n);for(this.expandidos=0,this.actual[e]=t,this.visitados[t]=!0;e+1!==this.n;)this.visitados[a]||(e+=1,this.expandidos=this.expandidos+1,this.actual[e]=a,this.visitados[a]=!0),a=Math.floor(Math.random()*this.n);var n=this.evaluarRuta(this.actual);this.ruta=this.actual.slice(),this.longitud=n}},{key:"evaluarRuta",value:function(t){for(var e=0,a=1;a<this.n;a++)e+=this.distancias[t[a-1]][t[a]];return e+=this.distancias[t[0]][t[this.n-1]]}}]),t}(),C=a(21),A=a.n(C),w=a(0),M=50,S=350,N=function(t,e,a,n){var i=e*M+S,r=a*M+S;t.ellipse(i,r,40),t.fill(0),t.text(n,i-4,r+4)},G=function(t,e,a,n,i){var r=e*M+S,s=a*M+S,c=n*M+S,o=i*M+S,l=Math.sqrt((o-s)*(o-s)+(c-r)*(c-r)),h=(c-r)/l*10,u=(o-s)/l*10;t.line(r+h,s+u,c-h,o-u)},R=function(t){var e=t.matriz,a=t.ruta;console.log(a);var n=0;return Object(w.jsx)(A.a,{setup:function(t,e){t.createCanvas(700,700).parent(e),t.frameRate(1),a.length>0&&t.frameRate(parseInt(a.length/5))},draw:function(t){if(t.background(0),a.length>0){for(var i=0;i<=n;i++)t.fill(13,202,240),N(t,e[a[i%a.length]][0],e[a[i%a.length]][1],a[i]),i>0&&(t.stroke(13,202,240),t.strokeWeight(3),G(t,e[a[(i-1)%a.length]][0],e[a[(i-1)%a.length]][1],e[a[i%a.length]][0],e[a[i%a.length]][1],a[i]),t.strokeWeight(0));for(var r=n+1;r<a.length;r++)t.fill(255),N(t,e[a[r]][0],e[a[r]][1],a[r]);++n>a.length&&(n=0)}else e.forEach((function(e,a){t.fill(255),N(t,e[0],e[1],a)}))}})};var L=function(){var t=Object(n.useState)(0),e=Object(c.a)(t,2),a=e[0],i=e[1],r=Object(n.useState)(4),s=Object(c.a)(r,2),g=s[0],m=s[1],y=Object(n.useState)(x(4)),C=Object(c.a)(y,2),A=C[0],M=C[1],S=Object(n.useState)([]),N=Object(c.a)(S,2),G=N[0],L=N[1],B=Object(n.useState)(0),F=Object(c.a)(B,2),I=F[0],_=F[1],z=Object(n.useState)(0),E=Object(c.a)(z,2),J=E[0],P=E[1],T=Object(n.useState)(0),W=Object(c.a)(T,2),q=W[0],U=W[1],V=Object(n.useState)(!1),X=Object(c.a)(V,2),Y=X[0],$=X[1],D=function(t,e){return function(a){var n=parseInt(a.target.value);isNaN(n)||M((function(a){var i=f(a);return i[t][e]=n,i}))}};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(l.a,{fluid:!0,className:"m-0",children:[Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(u.a,{sm:6,children:[Object(w.jsx)(d.a,{src:o,alt:"FPUNA",className:"logo"}),Object(w.jsx)("h1",{children:"Traveling Salesman Problem"}),Object(w.jsx)("h2",{children:"Integrantes"}),Object(w.jsx)("li",{children:"Mateo Fidabel"}),Object(w.jsx)("li",{children:"Santiago Acevedo"}),Object(w.jsx)("li",{children:"Angel Ferreira"}),Object(w.jsx)("li",{children:"Isaac Amarilla"})]}),Object(w.jsx)(u.a,{sm:6,children:Object(w.jsxs)(j.a,{className:"mt-5",children:[Object(w.jsxs)(j.a.Group,{children:[Object(w.jsx)(j.a.Label,{children:"Algoritmo"}),Object(w.jsxs)(j.a.Select,{value:a,onChange:function(t){i(t.target.value)},children:[Object(w.jsx)("option",{value:0,children:"Seleccione el algoritmo"}),Object(w.jsx)("option",{value:1,children:"Backtracking"}),Object(w.jsx)("option",{value:4,children:"Backtracking (1 soluci\xf3n)"}),Object(w.jsx)("option",{value:2,children:"Algoritmo de las vegas"}),Object(w.jsx)("option",{value:3,children:"Avaro + 2-opt local"})]})]}),Object(w.jsx)("br",{}),Object(w.jsxs)(j.a.Group,{children:[Object(w.jsx)(j.a.Label,{children:"Valor de N"}),Object(w.jsx)(j.a.Control,{type:"number",value:g,onChange:function(t){var e=parseInt(t.target.value);if($(!1),m(e),!isNaN(e)){var a=x(e);M(a)}}})]}),Object(w.jsx)("br",{}),Object(w.jsxs)(h.a,{children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(j.a.Group,{children:Object(w.jsx)(b.a,{variant:"primary",onClick:function(){var t=function(t){return t[0].map((function(e,a){return t.map((function(t){return t[a]}))}))}(A),e=new k(t[0],t[1]),n=performance.now();switch(a){case"1":e.backtracking();break;case"2":e.lasvegas();break;case"3":e.avaro(),e.optimizar_profundo();break;case"4":e.backtracking(!0)}var i=performance.now();console.log("Tiempo ".concat(i-n," ms")),L(e.ruta),P(e.evaluarRuta(e.ruta)),_(i-n),U(e.expandidos)},disabled:0===a,children:"Calcular"})})}),Object(w.jsx)(u.a,{children:Object(w.jsx)(j.a.Group,{children:Object(w.jsx)(b.a,{variant:"secondary",onClick:function(){var t,e;M((t=-5,e=5,function(a){for(var n=f(a),i=0;i<a.length;i++)n[i][0]=O(t,e),n[i][1]=O(t,e);return n}))},children:"Aleatorio"})})})]})]})})]}),Object(w.jsxs)(h.a,{style:{margin:16},children:[Object(w.jsx)(u.a,{sm:6,children:Object(w.jsxs)(j.a,{children:[Object(w.jsxs)(j.a.Group,{children:[Object(w.jsx)(j.a.Label,{children:"Tiempo de Ejecuci\xf3n"}),Object(w.jsx)(j.a.Control,{value:"".concat(Number(I.toFixed(2))," ms"),readOnly:!0})]}),Object(w.jsx)("br",{}),Object(w.jsxs)(j.a.Group,{children:[Object(w.jsx)(j.a.Label,{children:"Costo del camino"}),Object(w.jsx)(j.a.Control,{value:G.length===g?J:"0",readOnly:!0})]}),Object(w.jsx)("br",{}),Object(w.jsxs)(j.a.Group,{children:[Object(w.jsx)(j.a.Label,{children:"Nodos expandidos"}),Object(w.jsx)(j.a.Control,{value:q,readOnly:!0})]})]})}),Object(w.jsx)(u.a,{children:Object(w.jsxs)(j.a.Group,{children:[Object(w.jsx)(j.a.Label,{children:"Ruta"}),G.length===g&&G.length>0?Object(w.jsx)(j.a.Control,{as:"textarea",value:G.reduce(p),rows:9,readOnly:!0}):Object(w.jsx)(j.a.Control,{value:"No disponible",readOnly:!0})]})})]}),Object(w.jsx)(h.a,{style:{margin:8},children:Y?Object(w.jsx)(R,{matriz:A,ruta:G}):Object(w.jsx)(b.a,{variant:"success",onClick:function(){$(!0)},children:"Mostrar Gr\xe1fico"})}),Object(w.jsxs)(h.a,{style:{margin:8},children:[Object(w.jsx)("h3",{children:"Coordenadas"}),Object(w.jsxs)(v.a,{striped:!0,bordered:!0,hover:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Ciudad / Coordenada "}),Object(w.jsx)("th",{children:"Coordenada X"}),Object(w.jsx)("th",{children:"Coordenada Y"})]})}),Object(w.jsx)("tbody",{children:A.map((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(w.jsxs)("tr",{children:[Object(w.jsxs)("td",{children:["M",e]}),t.map((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(w.jsx)("td",{children:Object(w.jsx)(j.a.Control,{type:"number",value:A[e][a],onChange:D(e,a)})},e+" "+a)}))]},e)}))})]})]})]})})},B=a(11),F=a(17),I=a.n(F),_=a(23);function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(e){return setTimeout((function(){return e({data:t})}),500)}))}var E=Object(B.b)("counter/fetchCount",function(){var t=Object(_.a)(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),J=Object(B.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}},extraReducers:function(t){t.addCase(E.pending,(function(t){t.status="loading"})).addCase(E.fulfilled,(function(t,e){t.status="idle",t.value+=e.payload}))}}),P=J.actions,T=(P.increment,P.decrement,P.incrementByAmount,J.reducer),W=Object(B.a)({reducer:{counter:T}}),q=a(25);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(q.a,{store:W,children:Object(w.jsx)(L,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.dd4d83aa.chunk.js.map